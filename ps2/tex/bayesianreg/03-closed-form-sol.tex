%\input{../macros.tex}
%\begin{document}
\begin{answer}
\begin{align*}
\theta_{MAP} &= \text{argmin}_\theta - \log p(y | x, \theta) + \lambda ||\theta||_2^2
\\
&= \text{argmin}_\theta - \log \left( \exp(-\frac{(y - X \theta)^T \Sigma (y - X \theta)}{2}) \right ) + \lambda ||\theta||_2^2
\\
&= \text{argmin}_\theta \frac{\sigma^{-2}}{2} ||y - X \theta||_2^2 + \lambda ||\theta||_2^2
\end{align*}

We take $\nabla_\theta$ of the RHS and set to zero to find the minimal $\theta$,

\begin{align*}
\frac{\sigma^{-2}}{2} (-2 X^T y + 2 X^T X \theta) + 2 \lambda \theta &= 0
\\
(\sigma^{-2} X^T X + 2 \lambda I)\; \theta &=  \sigma^{-2} X^T y
\\
\theta &= (\sigma^{-2} X^T X + 2 \lambda I)^{-1}\; \sigma^{-2} X^T y
\end{align*}
\end{answer}
%\end{document}

